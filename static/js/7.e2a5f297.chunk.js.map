{"version":3,"sources":["assets/no-photo.png","Components/Users/Users.module.css","Components/Users/Paginator.js","Components/Users/User.js","Components/Users/Users.js","redux/users-selectors.js","Components/Users/UsersContainer.js"],"names":["module","exports","__webpack_require__","p","users","user","paginator","photo","page","selectedPage","button","unsubscribe","Paginator","props","pageCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","react_default","a","createElement","className","styles","react_router_dom","to","currentPage","onClick","onPageChanged","map","abs","linkStyle","key","id","length","User","concat","src","photos","small","userDefaultPhoto","alt","name","followed","disabled","followingInProgress","some","onUnfollowClick","onFollowClick","Users","Users_User","Users_Paginator","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","query","URLSearchParams","this","location","search","get","Number","requestUsers","_this","Preloader","Fragment","Components_Users_Users","pageNumber","follow","unfollow","React","Component","connect"],"mappings":"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","file":"static/js/7.e2a5f297.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/no-photo.5f8f6d04.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__17-K0\",\"user\":\"Users_user__2SeuE\",\"paginator\":\"Users_paginator__u3ANE\",\"photo\":\"Users_photo__1AP4W\",\"page\":\"Users_page__2mHMK\",\"selectedPage\":\"Users_selectedPage__1MHnl\",\"button\":\"Users_button__1m6du\",\"unsubscribe\":\"Users_unsubscribe__1Jkm8\"};","import styles from './Users.module.css';\r\nimport {Link} from 'react-router-dom';\r\nimport React from 'react';\r\n\r\nconst Paginator = (props) => {\r\n    let pageCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            <Link to={'?page=' + 1}\r\n                  className={styles.page + ((1 === props.currentPage) ? (' ' + styles.selectedPage) : '')}\r\n                  onClick={() => {\r\n                      props.onPageChanged(1);\r\n                  }}\r\n            >&lt;&lt; </Link>\r\n\r\n            {pages.map(p => {\r\n                if (Math.abs(p - props.currentPage) < 3) {\r\n                    const linkStyle = styles.page + ((p === props.currentPage) ? (' ' + styles.selectedPage) : '');\r\n                    return <Link to={'?page=' + p} key={p.id}\r\n                                 className={linkStyle}\r\n                                 onClick={() => {\r\n                                     props.onPageChanged(p);\r\n                                 }}\r\n                    >{p} </Link>;\r\n                }\r\n                return null;\r\n            })}\r\n\r\n            <Link to={'?page=' + pages[pages.length - 1]}\r\n                  className={styles.page + ((pages[pages.length - 1] === props.currentPage) ? (' ' + styles.selectedPage) : '')}\r\n                  onClick={() => {\r\n                      props.onPageChanged(pages[pages.length - 1]);\r\n                  }}\r\n            >&gt;&gt; </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Paginator;","import {NavLink} from 'react-router-dom';\r\nimport userDefaultPhoto from '../../assets/no-photo.png';\r\nimport styles from './Users.module.css';\r\nimport React from 'react';\r\n\r\nconst User = (props) => (\r\n    <div className={styles.user}>\r\n        <NavLink to={`/profile/${props.user.id}`}>\r\n            <img src={(props.user.photos.small !== null) ? props.user.photos.small : userDefaultPhoto}\r\n                 className={styles.photo} alt=''/>\r\n        </NavLink>\r\n\r\n        <div><NavLink to={`/profile/${props.user.id}`}>{props.user.name}</NavLink></div>\r\n\r\n        {props.user.followed\r\n            ? <button className={`${styles.button} ${styles.unsubscribe}`}\r\n                      disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                      onClick={() => props.onUnfollowClick(props.user.id)}>Вы подписаны</button>\r\n            : <button className={styles.button}\r\n                      disabled={props.followingInProgress.some(id => id === props.user.id)}\r\n                      onClick={() => props.onFollowClick(props.user.id)}>Добавить в друзья</button>}\r\n    </div>\r\n);\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from './Paginator';\r\nimport User from './User';\r\nimport styles from './Users.module.css';\r\n\r\nconst Users = (props) => {\r\n    return (\r\n        <div className={styles.users}>\r\n            <h1>Пользователи соц сети ({props.totalUsersCount}):</h1>\r\n            {props.users.map(user => <User key={user.id} user={user} followingInProgress={props.followingInProgress}\r\n                                           onFollowClick={props.onFollowClick}\r\n                                           onUnfollowClick={props.onUnfollowClick}/>)}\r\n            <Paginator totalUsersCount={props.totalUsersCount} pageSize={props.pageSize}\r\n                       currentPage={props.currentPage} onPageChanged={props.onPageChanged}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Users;","//import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state) => state.usersPage.users;\r\n//export const getUsersSuper = createSelector(getUsers, (users) => users.filter(u => true));\r\nexport const getPageSize = (state) => state.usersPage.pageSize;\r\nexport const getTotalUsersCount = (state) => state.usersPage.totalUsersCount;\r\nexport const getCurrentPage = (state) => state.usersPage.currentPage;\r\nexport const getIsFetching = (state) => state.usersPage.isFetching;\r\nexport const getFollowingInProgress = (state) => state.usersPage.followingInProgress;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {follow, requestUsers, unfollow} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader';\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const query = new URLSearchParams(this.props.location.search);\r\n        const page = query.get('page') ? Number(query.get('page')) : 1;\r\n        const {pageSize} = this.props;\r\n\r\n        this.props.requestUsers(page, pageSize);\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.props.users.length === 0) {\r\n            return <Preloader/>;\r\n        }\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n\r\n            <Users totalUsersCount={this.props.totalUsersCount} pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={(pageNumber) => this.props.requestUsers(pageNumber, this.props.pageSize)}\r\n                   users={this.props.users}\r\n                   onFollowClick={this.props.follow} onUnfollowClick={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}/>\r\n        </>;\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        //users: getUsersSuper(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n    requestUsers,\r\n    follow,\r\n    unfollow\r\n})(UsersContainer);"],"sourceRoot":""}