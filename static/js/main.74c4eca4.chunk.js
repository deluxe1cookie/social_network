(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,n){e.exports={feed:"Feed_feed__1sxMI"}},133:function(e,t,n){e.exports=n.p+"static/media/preloader.119055be.svg"},159:function(e,t,n){e.exports=n(290)},23:function(e,t,n){e.exports={messages:"Messages_messages__1SsRp",messagesUsers:"Messages_messagesUsers__34qzN",messagesBlock:"Messages_messagesBlock___j9Cu",messageYours:"Messages_messageYours__2vfTu"}},242:function(e,t,n){},243:function(e,t,n){},248:function(e,t,n){e.exports={feed:"Music_feed__2cWsK"}},249:function(e,t,n){e.exports={feed:"Settings_feed__8cqYk"}},289:function(e,t,n){},290:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(7),a=n(10),o=n.n(a),s=n(17),c=n(53),i=n(21),u=n(126),l=n.n(u).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"2e403f5c-5d3b-4ee4-a662-100f73be85da"}}),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return l.get("users?page=".concat(e,"&count=").concat(t))},m=function(e){return l.post("follow/".concat(e))},f=function(e){return l.delete("follow/".concat(e))},d=function(){return l.get("auth/me")},g=function(e,t,n){return l.post("auth/login",{email:e,password:t,rememberMe:n})},h=function(){return l.delete("auth/login")},E=function(e){return l.get("profile/".concat(e))},b=function(e){return l.get("profile/status/".concat(e))},v=function(e){return l.put("profile/status",{status:e})};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var y={isFetching:!1},_=function(e){return{type:"social_network/common/TOGGLE_IS_FETCHING",isFetching:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"social_network/common/TOGGLE_IS_FETCHING":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{isFetching:t.isFetching});default:return e}};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S="social_network/profile/ADD_POST-POST",k="social_network/profile/SET_STATUS",C="social_network/profile/DELETE_POST",x={profileData:null,status:"",posts:[{id:1,text:"my first post! hello there!!!!!!!",likesCount:10},{id:2,text:"my second post! hello there!!!!!!!",likesCount:4},{id:3,text:"my third (3) post! hello there!!!!!!!",likesCount:25}]},N=function(e){return{type:k,status:e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:var n={id:e.posts.length,text:t.newPostBody,likesCount:0},r=j({},e,{posts:[].concat(Object(c.a)(e.posts),[n])});return j({},r);case"social_network/profile/SET_PROFILE_DATA":return j({},e,{profileData:t.profileData});case k:return j({},e,{status:t.status});case C:return j({},e,{posts:e.posts.filter(function(e){return e.id!==t.postId})});default:return e}},U={dialogs:[{id:1,name:"Dima"},{id:2,name:"Kolya"},{id:3,name:"Igor"},{id:4,name:"Olya"},{id:5,name:"Masha"},{id:6,name:"Angelika"}],messages:[{id:1,text:"Hi!",yours:!0},{id:2,text:"Hello",yours:!1},{id:3,text:"How are you?",yours:!0},{id:4,text:"I'm fine thanks. What about you?",yours:!1},{id:5,text:"BAD :(",yours:!0},{id:6,text:"Why so?",yours:!1}]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"social_network/messages/SEND-MESSAGE":var n=t.newMessageBody;return e.messages.push({id:6,text:n,yours:!0}),Object.assign({},e);default:return e}},T={},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;arguments.length>1&&arguments[1];return e};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L="social_network/users/SET_USERS",B={users:[],pageSize:5,totalUsersCount:20,currentPage:1,followingInProgress:[]},G=function(e,t){return{type:"social_network/users/TOGGLE_FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"social_network/users/FOLLOW_SUCCESS":return M({},e,{users:e.users.map(function(e){return e.id===t.userID?M({},e,{followed:!0}):e})});case"social_network/users/UNFOLLOW_SUCCESS":return M({},e,{users:e.users.map(function(e){return e.id===t.userID?M({},e,{followed:!1}):e})});case L:return M({},e,{users:Object(c.a)(t.users)});case"social_network/users/SET_CURRENT_PAGE":return M({},e,{currentPage:t.pageNumber});case"social_network/users/SET_TOTAL_USERS_COUNT":return M({},e,{totalUsersCount:t.totalUsersCount});case"social_network/users/TOGGLE_FOLLOWING_IN_PROGRESS":return M({},e,{followingInProgress:t.isFetching?[].concat(Object(c.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter(function(e){return e!==t.userId})});default:return e}},z=n(39);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var H={userId:null,login:null,email:null,isAuth:!1},q=function(e,t,n,r){return{type:"social_network/auth/SET_AUTH_USER_DATA",payload:{userId:e,login:t,email:n,isAuth:r}}},Y=function(){return function(){var e=Object(s.a)(o.a.mark(function e(t){var n,r,a,s,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,s=r.login,c=r.email,t(q(a,s,c,!0)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"social_network/auth/SET_AUTH_USER_DATA":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},t.payload);default:return e}},Z=n(127),J=n(125);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Q={initialized:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;switch((arguments.length>1?arguments[1]:void 0).type){case"INITIALIZED_SUCCESS":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{initialized:!0});default:return e}},$=Object(r.c)({common:w,profilePage:I,messagesPage:D,sidebar:A,usersPage:R,auth:K,form:J.a,app:V}),ee=Object(r.e)($,Object(r.a)(Z.a));window.store=ee;var te=ee,ne=n(0),re=n.n(ne),ae=n(62),oe=n.n(ae),se=(n(242),n(27)),ce=n(28),ie=n(30),ue=n(29),le=n(31),pe=(n(243),n(34)),me=n.n(pe),fe=n(9),de=function(){return re.a.createElement("nav",{className:me.a.nav},re.a.createElement("div",{className:me.a.item},re.a.createElement(fe.c,{to:"/profile"},"My profile")),re.a.createElement("div",{className:me.a.item},re.a.createElement(fe.c,{to:"/feed"},"News")),re.a.createElement("div",{className:me.a.item},re.a.createElement(fe.c,{to:"/messages"},"Messages")),re.a.createElement("div",{className:me.a.item},re.a.createElement(fe.c,{to:"/audio"},"Music")),re.a.createElement("div",{className:me.a.item},re.a.createElement(fe.c,{to:"/settings"},"Settings")),re.a.createElement("div",{className:me.a.item},re.a.createElement(fe.c,{to:"/users"},"Users")))},ge=n(33),he=n(131),Ee=n.n(he),be=function(e){return re.a.createElement("div",{className:Ee.a.messages},"Feed")},ve=(n(248),function(e){return re.a.createElement("div",null,"Music")}),Oe=(n(249),function(e){return re.a.createElement("div",null,"Settings")}),ye=n(23),_e=n.n(ye),we=function(e){var t="/messages/"+e.id;return re.a.createElement("div",{className:_e.a.dialog},re.a.createElement(fe.c,{to:t},e.name))},Pe=function(e){return e.yours?re.a.createElement("div",{className:_e.a.messageYours},e.text):re.a.createElement("div",{className:_e.a.message},e.text)},je=n(123),Se=n(124),ke=n(132),Ce=n(44),xe=n.n(Ce),Ne=function(e){return function(t){var n=t.input,r=t.meta,a=Object(ke.a)(t,["input","meta"]),o=r.touched&&r.error;return re.a.createElement("div",null,re.a.createElement(e,Object.assign({className:xe.a.formControl+" "+(o&&xe.a.error)},n,a)),re.a.createElement("div",null,o&&re.a.createElement("span",{className:xe.a.error},r.error)))}},Ie=function(e){if(!e)return"Field is required"},Ue=function(e){return function(t){if(!(t&&t.length<e))return"Max length is ".concat(e)}},De=Ue(100),Te=Ne("textarea"),Ae=function(e){return re.a.createElement("form",{onSubmit:e.handleSubmit},re.a.createElement(je.a,{component:Te,name:"newMessageBody",validate:[Ie,De],placeholder:"Enter your message..."}),re.a.createElement("button",null,"Send"))};Ae=Object(Se.a)({form:"dialogAddMessageForm"})(Ae);var Fe=function(e){var t=e.messagesPage.dialogs.map(function(e){return re.a.createElement(we,{id:e.id,name:e.name})}),n=e.messagesPage.messages.map(function(e){return re.a.createElement(Pe,{id:e.id,text:e.text,yours:e.yours})});return re.a.createElement("div",{className:_e.a.messages},re.a.createElement("div",{className:_e.a.messagesUsers},t),re.a.createElement("div",{className:_e.a.messagesBlock},re.a.createElement("div",null,n),re.a.createElement(Ae,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})))},Me=n(8),Le=function(e){return{isAuth:e.auth.isAuth}},Be=function(e){return Object(Me.b)(Le)(function(t){return t.isAuth?re.a.createElement(e,t):re.a.createElement(ge.a,{to:"/login"})})},Ge=Object(r.d)(Object(Me.b)(function(e){return{messagesPage:e.messagesPage}},{sendMessage:function(e){return{type:"social_network/messages/SEND-MESSAGE",newMessageBody:e}}}),ge.f,Be)(Fe),Re=n(52),ze=n.n(Re),We=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],r=1;r<=t;r++)n.push(r);return re.a.createElement("div",null,n.map(function(t){if(Math.abs(t-e.currentPage)<5){var n=ze.a.page+(t===e.currentPage?" "+ze.a.selectedPage:"");return re.a.createElement(fe.b,{to:"?page="+t,key:t.id,className:n,onClick:function(){e.onPageChanged(t)}},t," ")}}))},He=n(67),qe=n.n(He),Ye=function(e){return re.a.createElement("div",null,re.a.createElement("span",null,re.a.createElement("div",null,re.a.createElement(fe.c,{to:"/profile/".concat(e.user.id)},re.a.createElement("img",{src:null!==e.user.photos.small?e.user.photos.small:qe.a,className:ze.a.photo,alt:""}))),re.a.createElement("div",null,e.user.followed?re.a.createElement("button",{disabled:e.followingInProgress.some(function(t){return t===e.user.id}),onClick:function(){return e.onUnfollowClick(e.user.id)}},"Unfollow"):re.a.createElement("button",{disabled:e.followingInProgress.some(function(t){return t===e.user.id}),onClick:function(){return e.onFollowClick(e.user.id)}},"Follow"))),re.a.createElement("span",null,re.a.createElement("span",null,re.a.createElement("div",null,e.user.name),re.a.createElement("div",null,e.user.status)),re.a.createElement("span",null,re.a.createElement("div",null,"props.location.country"),re.a.createElement("div",null,"props.location.city"))))},Ke=function(e){return re.a.createElement("div",null,re.a.createElement(We,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),e.users.map(function(t){return re.a.createElement(Ye,{key:t.id,user:t,followingInProgress:e.followingInProgress,onFollowClick:e.onFollowClick,onUnfollowClick:e.onUnfollowClick})}))},Ze=n(133),Je=n.n(Ze),Xe=function(){return re.a.createElement("img",{src:Je.a,alt:""})},Qe=(n(288),function(e){return e.usersPage.users}),Ve=function(e){return e.usersPage.pageSize},$e=function(e){return e.usersPage.totalUsersCount},et=function(e){return e.usersPage.currentPage},tt=function(e){return e.usersPage.isFetching},nt=function(e){return e.usersPage.followingInProgress},rt=function(e){function t(){return Object(se.a)(this,t),Object(ie.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search),t=e.get("page")?Number(e.get("page")):1,n=this.props.pageSize;this.props.requestUsers(t,n)}},{key:"render",value:function(){var e=this;return re.a.createElement(re.a.Fragment,null,this.props.isFetching?re.a.createElement(Xe,null):null,re.a.createElement(Ke,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:function(t){return e.props.requestUsers(t,e.props.pageSize)},users:this.props.users,onFollowClick:this.props.follow,onUnfollowClick:this.props.unfollow,followingInProgress:this.props.followingInProgress}))}}]),t}(re.a.Component),at=Object(Me.b)(function(e){return{users:Qe(e),pageSize:Ve(e),totalUsersCount:$e(e),currentPage:et(e),isFetching:tt(e),followingInProgress:nt(e)}},{requestUsers:function(e,t){return function(){var n=Object(s.a)(o.a.mark(function n(r){var a;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(_(!0)),n.next=3,p(e,t);case 3:a=n.sent,r(_(!1)),r((o=a.data.items,{type:L,users:o})),r({type:"social_network/users/SET_TOTAL_USERS_COUNT",totalUsersCount:a.data.totalCount}),r({type:"social_network/users/SET_CURRENT_PAGE",pageNumber:e});case 8:case"end":return n.stop()}var o},n)}));return function(e){return n.apply(this,arguments)}}()},follow:function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(G(!0,e)),t.next=3,m(e);case 3:0===t.sent.data.resultCode&&n({type:"social_network/users/FOLLOW_SUCCESS",userID:e}),n(G(!1,e));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(G(!0,e)),t.next=3,f(e);case 3:0===t.sent.data.resultCode&&n({type:"social_network/users/UNFOLLOW_SUCCESS",userID:e}),n(G(!1,e));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(rt),ot=n(68),st=n.n(ot),ct=n(92),it=function(e){var t=Object(ne.useState)(!1),n=Object(ct.a)(t,2),r=n[0],a=n[1],o=Object(ne.useState)(e.status),s=Object(ct.a)(o,2),c=s[0],i=s[1];Object(ne.useEffect)(function(){i(e.status)},[e.status]);var u=function(){a(!1),e.updateStatus(c)};return re.a.createElement("div",null,!r&&re.a.createElement("div",null,re.a.createElement("span",{onDoubleClick:function(){a(!0)}},c)),r&&re.a.createElement("div",null,re.a.createElement("input",{autoFocus:!0,onBlur:u,type:"text",value:c,onChange:function(e){i(e.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&u()}})))},ut=(n(289),function(e){return re.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.link},re.a.createElement("div",{className:e.title}))}),lt=function(e){var t=Object.entries(e.contacts).filter(function(e){return null!==e[1]}).map(function(e){return re.a.createElement(ut,{title:e[0],link:e[1]})});return re.a.createElement("div",{className:st.a.contacts},t)},pt=function(e){return e.profileData?re.a.createElement("div",null,re.a.createElement("div",{className:st.a.profileInfo},re.a.createElement("img",{src:e.profileData.photos.large?e.profileData.photos.large:qe.a,alt:""}),re.a.createElement("div",null,re.a.createElement("h1",null,e.profileData.fullName),re.a.createElement(it,{status:e.status,updateStatus:e.updateStatus}),re.a.createElement("p",null,e.profileData.aboutMe))),re.a.createElement(lt,{contacts:e.profileData.contacts})):re.a.createElement(Xe,null)},mt=n(45),ft=n.n(mt),dt=n(70),gt=n.n(dt),ht=function(e){return re.a.createElement("div",{className:gt.a.post},re.a.createElement("img",{className:gt.a.postLogo,src:"https://i.pinimg.com/236x/e9/06/de/e906de319adee56b1d9060b9c993b749.jpg",alt:""})," \u0420\u043e\u043c\u0430 \u0414\u0440\u044e\u0446\u043a\u0438\u0439",re.a.createElement("div",{className:gt.a.postText},e.text))},Et=Ue(30),bt=Ne("textarea"),vt=function(e){return re.a.createElement("form",{onSubmit:e.handleSubmit,className:ft.a.addPostForm},re.a.createElement("div",null,re.a.createElement("div",{className:ft.a.imgAndTextarea},re.a.createElement("img",{className:ft.a.profilePic,src:"https://i.pinimg.com/236x/e9/06/de/e906de319adee56b1d9060b9c993b749.jpg",alt:""}),re.a.createElement(je.a,{component:bt,name:"newPostBody",validate:[Ie,Et],cols:"30",rows:"3",placeholder:"Enter your post..."})),re.a.createElement("div",{className:ft.a.newPostBtn},re.a.createElement("button",null,"New Post"))))};vt=Object(Se.a)({form:"profileAddPostForm"})(vt);var Ot=function(e){console.log("render");var t=e.posts.map(function(e){return re.a.createElement(ht,{id:e.id,text:e.text,likesCount:e.likesCount})});return re.a.createElement("div",{className:ft.a.myPosts},re.a.createElement("p",null,"My Posts:"),re.a.createElement("br",null),re.a.createElement(vt,{onSubmit:function(t){e.addPost(t.newPostBody)}}),t)},yt=Object(Me.b)(function(e){return{posts:e.profilePage.posts}},{addPost:function(e){return{type:S,newPostBody:e}}})(Ot),_t=function(e){return re.a.createElement("div",null,re.a.createElement(pt,e),re.a.createElement(yt,null))},wt=function(e){function t(){return Object(se.a)(this,t),Object(ie.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return re.a.createElement(_t,this.props)}}]),t}(re.a.Component),Pt=Object(r.d)(Object(Me.b)(function(e){return{isFetching:e.usersPage.isFetching,profileData:e.profilePage.profileData,status:e.profilePage.status,userId:e.auth.userId}},{toggleIsFetching:_,getUserProfile:function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0)),t.next=3,E(e);case 3:r=t.sent,n(_(!1)),n({type:"social_network/profile/SET_PROFILE_DATA",profileData:r.data});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:r=t.sent,n(N(r.data));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:0===t.sent.data.resultCode&&n(N(e));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}),ge.f,Be)(wt),jt=n(91),St=n.n(jt),kt=function(e){return re.a.createElement("header",{className:St.a.header},re.a.createElement("div",null,re.a.createElement(fe.c,{to:"/feed"},re.a.createElement("img",{src:"https://cdn3.iconfinder.com/data/icons/picons-social/57/56-apple-512.png",alt:""}))),re.a.createElement("div",{className:St.a.loginBlock},e.isAuth?re.a.createElement("div",null,e.login,re.a.createElement("div",null,re.a.createElement("button",{onClick:e.onLogoutClick},"logout"))):re.a.createElement(fe.c,{to:"/login"},"Login")))},Ct=function(e){function t(){var e,n;Object(se.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(ie.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(a)))).onLogoutClick=function(){n.props.logout()},n}return Object(le.a)(t,e),Object(ce.a)(t,[{key:"render",value:function(){return re.a.createElement(kt,{isAuth:this.props.isAuth,login:this.props.login,onLogoutClick:this.onLogoutClick})}}]),t}(re.a.Component),xt=Object(Me.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},{logout:function(){return function(){var e=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:0===e.sent.data.resultCode&&t(q(null,null,null,!1));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(Ct),Nt=Ne("input"),It=function(e){var t=e.handleSubmit,n=e.error;return re.a.createElement("form",{onSubmit:t},re.a.createElement(je.a,{component:Nt,validate:[Ie],name:"email",type:"text",placeholder:"email"}),re.a.createElement(je.a,{component:Nt,validate:[Ie],name:"password",type:"password",placeholder:"password"}),re.a.createElement(je.a,{component:"input",name:"rememberMe",type:"checkbox"})," remember me",n&&re.a.createElement("div",{className:xe.a.formSummaryError},n),re.a.createElement("div",null,re.a.createElement("button",null,"Login")))};It=Object(Se.a)({form:"login"})(It);var Ut=Object(Me.b)(function(e){return{isAuth:e.auth.isAuth}},{login:function(e,t,n){return function(){var r=Object(s.a)(o.a.mark(function r(a){var s,c;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g(e,t,n);case 2:0===(s=r.sent).data.resultCode?a(Y()):(c=s.data.messages.length>0?s.data.messages[0]:"",a(Object(z.a)("login",{_error:c})));case 4:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()}})(function(e){return e.isAuth?re.a.createElement(ge.a,{to:"/profile"}):re.a.createElement("div",null,re.a.createElement(It,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))}),Dt=function(e){function t(){return Object(se.a)(this,t),Object(ie.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?re.a.createElement(fe.a,null,re.a.createElement("div",{className:"app-wrapper"},re.a.createElement(xt,null),re.a.createElement(de,null),re.a.createElement("div",{className:"app-wrapper-content"},re.a.createElement(ge.b,{path:"/profile/:userId?",render:function(){return re.a.createElement(Pt,null)}}),re.a.createElement(ge.b,{path:"/feed",component:be}),re.a.createElement(ge.b,{path:"/messages",render:function(){return re.a.createElement(Ge,null)}}),re.a.createElement(ge.b,{path:"/audio",component:ve}),re.a.createElement(ge.b,{path:"/settings",component:Oe}),re.a.createElement(ge.b,{path:"/users",component:at}),re.a.createElement(ge.b,{path:"/login",component:Ut})))):re.a.createElement(Xe,null)}}]),t}(re.a.Component),Tt=Object(Me.b)(function(e){return{initialized:e.app.initialized}},{initializeApp:function(){return function(e){e(Y()).then(function(){e({type:"INITIALIZED_SUCCESS"})})}}})(Dt);oe.a.render(re.a.createElement(re.a.Fragment,null,re.a.createElement(Me.a,{store:te},re.a.createElement(Tt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},34:function(e,t,n){e.exports={nav:"Navbar_nav__21UYO",item:"Navbar_item__3yNur"}},44:function(e,t,n){e.exports={formControl:"FormsControls_formControl__1ZsEk",error:"FormsControls_error__3UqkX",formSummaryError:"FormsControls_formSummaryError__2RXnQ"}},45:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__3Bxme",profilePic:"MyPosts_profilePic__28c-r",newPostBtn:"MyPosts_newPostBtn__2aWnS",imgAndTextarea:"MyPosts_imgAndTextarea__3oZH9",addPostForm:"MyPosts_addPostForm__2GdbJ"}},52:function(e,t,n){e.exports={photo:"Users_photo__1AP4W",page:"Users_page__2mHMK",selectedPage:"Users_selectedPage__1MHnl"}},67:function(e,t,n){e.exports=n.p+"static/media/no-photo.5f8f6d04.png"},68:function(e,t,n){e.exports={header:"ProfileInfo_header__qg4hU",profileInfo:"ProfileInfo_profileInfo__3ySjo",contacts:"ProfileInfo_contacts__1mFfQ"}},70:function(e,t,n){e.exports={post:"Post_post__28t38",postLogo:"Post_postLogo__3UC84",postText:"Post_postText__3mVUG"}},91:function(e,t,n){e.exports={header:"Header_header__2gtIo",loginBlock:"Header_loginBlock__3Xb00"}}},[[159,1,2]]]);
//# sourceMappingURL=main.74c4eca4.chunk.js.map