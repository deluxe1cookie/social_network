(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{136:function(e,t,n){e.exports=n(225)},19:function(e,t,n){"use strict";n.d(t,"b",function(){return c});var r=n(14);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var o={isFetching:!1},c=function(e){return{type:"social_network/common/TOGGLE_IS_FETCHING",isFetching:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"social_network/common/TOGGLE_IS_FETCHING":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{isFetching:t.isFetching});default:return e}}},219:function(e,t,n){},22:function(e,t,n){e.exports={nav:"Navbar_nav__21UYO",item:"Navbar_item__3yNur"}},220:function(e,t,n){},225:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(24),a=n(64),o=n(73),c={},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;arguments.length>1&&arguments[1];return e},u=n(74),s=n(19),l=n(27),p=n(83),f=n(81),d=n(14);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var O={initialized:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;switch((arguments.length>1?arguments[1]:void 0).type){case"INITIALIZED_SUCCESS":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{initialized:!0});default:return e}},b=Object(r.c)({common:s.a,profilePage:a.b,messagesPage:o.a,sidebar:i,usersPage:u.a,auth:l.a,form:f.a,app:h}),g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.d,y=Object(r.e)(b,g(Object(r.a)(p.a)));window.store=y;var w=y,v=n(0),E=n.n(v),_=n(45),j=n.n(_),S=(n(219),n(33)),P=n(34),k=n(36),D=n(35),C=n(37),T=n(10),I=n(21),A=(n(220),n(25)),N=n(54),U=n(56),x=n.n(U),L=function(e){return E.a.createElement("header",{className:x.a.header},E.a.createElement("div",null,E.a.createElement(T.c,{to:"/feed"},E.a.createElement("img",{src:"https://cdn3.iconfinder.com/data/icons/picons-social/57/56-apple-512.png",alt:""}))),E.a.createElement("div",{className:x.a.loginBlock},e.isAuth?E.a.createElement("div",null,e.login,E.a.createElement("div",null,E.a.createElement("button",{onClick:e.onLogoutClick},"logout"))):E.a.createElement(T.c,{to:"/login"},"Login")))},F=function(e){function t(){var e,n;Object(S.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(a)))).onLogoutClick=function(){n.props.logout()},n}return Object(C.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return E.a.createElement(L,{isAuth:this.props.isAuth,login:this.props.login,onLogoutClick:this.onLogoutClick})}}]),t}(E.a.Component),G=Object(A.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},{logout:l.d})(F),R=n(22),z=n.n(R),H=function(){return E.a.createElement("nav",{className:z.a.nav},E.a.createElement("div",{className:z.a.item},E.a.createElement(T.c,{to:"/profile"},"My profile")),E.a.createElement("div",{className:z.a.item},E.a.createElement(T.c,{to:"/feed"},"News")),E.a.createElement("div",{className:z.a.item},E.a.createElement(T.c,{to:"/messages"},"Messages")),E.a.createElement("div",{className:z.a.item},E.a.createElement(T.c,{to:"/audio"},"Music")),E.a.createElement("div",{className:z.a.item},E.a.createElement(T.c,{to:"/settings"},"Settings")),E.a.createElement("div",{className:z.a.item},E.a.createElement(T.c,{to:"/users"},"Users")))},M=E.a.lazy(function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,301))}),B=E.a.lazy(function(){return n.e(8).then(n.bind(null,297))}),W=E.a.lazy(function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,303))}),X=E.a.lazy(function(){return n.e(9).then(n.bind(null,298))}),J=E.a.lazy(function(){return n.e(10).then(n.bind(null,299))}),K=E.a.lazy(function(){return n.e(7).then(n.bind(null,302))}),Y=E.a.lazy(function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,300))}),Z=function(e){function t(){return Object(S.a)(this,t),Object(k.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?E.a.createElement(T.a,null,E.a.createElement("div",{className:"app-wrapper"},E.a.createElement(G,null),E.a.createElement(H,null),E.a.createElement("div",{className:"app-wrapper-content"},E.a.createElement(v.Suspense,{fallback:E.a.createElement(N.a,null)},E.a.createElement(I.b,{path:"/profile/:userId?",render:function(){return E.a.createElement(M,{hell:"hell"})}}),E.a.createElement(I.b,{path:"/feed",component:B}),E.a.createElement(I.b,{path:"/messages",component:W}),E.a.createElement(I.b,{path:"/audio",component:X}),E.a.createElement(I.b,{path:"/settings",component:J}),E.a.createElement(I.b,{path:"/users",component:K}),E.a.createElement(I.b,{path:"/login",component:Y}))))):E.a.createElement(N.a,null)}}]),t}(E.a.Component),V=Object(A.b)(function(e){return{initialized:e.app.initialized}},{initializeApp:function(){return function(e){e(Object(l.b)()).then(function(){e({type:"INITIALIZED_SUCCESS"})})}}})(Z);j.a.render(E.a.createElement(E.a.Fragment,null,E.a.createElement(A.a,{store:w},E.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},27:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return m});var r=n(4),a=n.n(r),o=n(7),c=n(14),i=n(8),u=n(47);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l={userId:null,login:null,email:null,isAuth:!1},p=function(e,t,n,r){return{type:"social_network/auth/SET_AUTH_USER_DATA",payload:{userId:e,login:t,email:n,isAuth:r}}},f=function(){return function(){var e=Object(o.a)(a.a.mark(function e(t){var n,r,o,c,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.setAuthUserData();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,o=r.id,c=r.login,u=r.email,t(p(o,c,u,!0)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},d=function(e,t,n){return function(){var r=Object(o.a)(a.a.mark(function r(o){var c,s;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.login(e,t,n);case 2:0===(c=r.sent).data.resultCode?o(f()):(s=c.data.messages.length>0?c.data.messages[0]:"",o(Object(u.a)("login",{_error:s})));case 4:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},m=function(){return function(){var e=Object(o.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.logout();case 2:0===e.sent.data.resultCode&&t(p(null,null,null,!1));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"social_network/auth/SET_AUTH_USER_DATA":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},t.payload);default:return e}}},54:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(86),c=n.n(o);t.a=function(){return a.a.createElement("img",{className:"preloader",src:c.a,alt:""})}},56:function(e,t,n){e.exports={header:"Header_header__2gtIo",loginBlock:"Header_loginBlock__3Xb00"}},64:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"d",function(){return g}),n.d(t,"c",function(){return y}),n.d(t,"e",function(){return w}),n.d(t,"f",function(){return v});var r=n(4),a=n.n(r),o=n(7),c=n(32),i=n(14),u=n(8),s=n(19);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f="social_network/profile/ADD_POST-POST",d="social_network/profile/SET_STATUS",m="social_network/profile/DELETE_POST",O={profileData:null,status:"",posts:[{id:1,text:"my first post! hello there!!!!!!!",likesCount:10},{id:2,text:"my second post! hello there!!!!!!!",likesCount:4},{id:3,text:"my third (3) post! hello there!!!!!!!",likesCount:25}]},h=function(e){return{type:f,newPostBody:e}},b=function(e){return{type:d,status:e}},g=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(s.b)(!0)),t.next=3,u.b.getProfile(e);case 3:r=t.sent,n(Object(s.b)(!1)),n({type:"social_network/profile/SET_PROFILE_DATA",profileData:r.data});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getStatus(e);case 2:r=t.sent,n(b(r.data));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(b(e));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.uploadPhoto(e);case 2:0===(r=t.sent).data.resultCode&&n({type:"social_network/profile/UPLOAD_PHOTO_SUCCESS",photos:r.data.data.photos});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var n={id:e.posts.length,text:t.newPostBody,likesCount:0},r=p({},e,{posts:[].concat(Object(c.a)(e.posts),[n])});return p({},r);case"social_network/profile/SET_PROFILE_DATA":return p({},e,{profileData:t.profileData});case d:return p({},e,{status:t.status});case m:return p({},e,{posts:e.posts.filter(function(e){return e.id!==t.postId})});case"social_network/profile/UPLOAD_PHOTO_SUCCESS":return p({},e,{profileData:p({},e.profileData,{photos:t.photos})});default:return e}}},73:function(e,t,n){"use strict";n.d(t,"b",function(){return a});var r={dialogs:[{id:1,name:"Dima"},{id:2,name:"Kolya"},{id:3,name:"Igor"},{id:4,name:"Olya"},{id:5,name:"Masha"},{id:6,name:"Angelika"}],messages:[{id:1,text:"Hi!",yours:!0},{id:2,text:"Hello",yours:!1},{id:3,text:"How are you?",yours:!0},{id:4,text:"I'm fine thanks. What about you?",yours:!1},{id:5,text:"BAD :(",yours:!0},{id:6,text:"Why so?",yours:!1}]},a=function(e){return{type:"social_network/messages/SEND-MESSAGE",newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"social_network/messages/SEND-MESSAGE":var n=t.newMessageBody;return e.messages.push({id:6,text:n,yours:!0}),Object.assign({},e);default:return e}}},74:function(e,t,n){"use strict";n.d(t,"c",function(){return O}),n.d(t,"b",function(){return h}),n.d(t,"d",function(){return b});var r=n(4),a=n.n(r),o=n(7),c=n(32),i=n(14),u=n(19),s=n(8);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f="social_network/users/SET_USERS",d={users:[],pageSize:5,totalUsersCount:20,currentPage:1,followingInProgress:[]},m=function(e,t){return{type:"social_network/users/TOGGLE_FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}},O=function(e,t){return function(){var n=Object(o.a)(a.a.mark(function n(r){var o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(u.b)(!0)),n.next=3,s.c.getUsers(e,t);case 3:o=n.sent,r(Object(u.b)(!1)),r((a=o.data.items,{type:f,users:a})),r({type:"social_network/users/SET_TOTAL_USERS_COUNT",totalUsersCount:o.data.totalCount}),r({type:"social_network/users/SET_CURRENT_PAGE",pageNumber:e});case 8:case"end":return n.stop()}var a},n)}));return function(e){return n.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(m(!0,e)),t.next=3,s.c.follow(e);case 3:0===t.sent.data.resultCode&&n({type:"social_network/users/FOLLOW_SUCCESS",userID:e}),n(m(!1,e));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(o.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(m(!0,e)),t.next=3,s.c.unfollow(e);case 3:0===t.sent.data.resultCode&&n({type:"social_network/users/UNFOLLOW_SUCCESS",userID:e}),n(m(!1,e));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"social_network/users/FOLLOW_SUCCESS":return p({},e,{users:e.users.map(function(e){return e.id===t.userID?p({},e,{followed:!0}):e})});case"social_network/users/UNFOLLOW_SUCCESS":return p({},e,{users:e.users.map(function(e){return e.id===t.userID?p({},e,{followed:!1}):e})});case f:return p({},e,{users:Object(c.a)(t.users)});case"social_network/users/SET_CURRENT_PAGE":return p({},e,{currentPage:t.pageNumber});case"social_network/users/SET_TOTAL_USERS_COUNT":return p({},e,{totalUsersCount:t.totalUsersCount});case"social_network/users/TOGGLE_FOLLOWING_IN_PROGRESS":return p({},e,{followingInProgress:t.isFetching?[].concat(Object(c.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter(function(e){return e!==t.userId})});default:return e}}},8:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return i});var r=n(82),a=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"2e403f5c-5d3b-4ee4-a662-100f73be85da"}}),o={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return a.get("users?page=".concat(e,"&count=").concat(t))},follow:function(e){return a.post("follow/".concat(e))},unfollow:function(e){return a.delete("follow/".concat(e))}},c={setAuthUserData:function(){return a.get("auth/me")},login:function(e,t,n){return a.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return a.delete("auth/login")}},i={getProfile:function(e){return a.get("profile/".concat(e))},getStatus:function(e){return a.get("profile/status/".concat(e))},updateStatus:function(e){return a.put("profile/status",{status:e})},uploadPhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"content-type":"multipart/form-data"}})}}},86:function(e,t,n){e.exports=n.p+"static/media/preloader.119055be.svg"}},[[136,2,3]]]);
//# sourceMappingURL=main.01a5dda6.chunk.js.map