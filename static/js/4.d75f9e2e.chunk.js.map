{"version":3,"sources":["Components/common/FormsControls/FormsControls.module.css","utils/validators/index.js","Components/common/FormsControls/FormsControls.js","assets/no-photo.png","hoc/withAuthRedirect.js","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Profile/MyPosts/MyPosts.module.css","Components/Profile/MyPosts/Post/Post.module.css","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/Profile/ProfileInfo/ProfileStatus.js","Components/Profile/ProfileInfo/Contact.js","Components/Profile/ProfileInfo/Contacts.js","Components/Profile/ProfileInfo/ProfileInfo.js","Components/Profile/MyPosts/Post/Post.js","Components/Profile/MyPosts/MyPosts.js","Components/Profile/Profile.js","Components/Profile/ProfileContainer.js"],"names":["module","exports","formControl","error","formSummaryError","__webpack_require__","d","__webpack_exports__","required","maxLength","value","length","concat","Element","_ref","input","meta","props","Object","D_it_incubator_social_network_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","hasError","touched","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_Element","assign","className","styles","p","withAuthRedirect","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","mapStateToPropsForRedirect","state","isAuth","auth","Component","connect","to","header","profileInfo","profilePhoto","fullName","contacts","myPosts","profilePic","newPostBtn","imgAndTextarea","addPostForm","postLogo","postText","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","Symbol","iterator","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_iterableToArrayLimit","TypeError","_nonIterableRest","ProfileStatus","_useState2","useState","editMode","setEditMode","_useState4","status","setStatus","useEffect","deactivateEditMode","updateStatus","react_default","onDoubleClick","autoFocus","onBlur","type","onChange","e","currentTarget","onKeyPress","key","Contact","target","rel","href","link","title","Contacts","contactsImagesElements","this","map","el","ProfileInfo_Contact","React","ProfileInfo","alt","src","profileData","photos","large","userDefaultPhoto","isOwner","files","uploadPhoto","ProfileInfo_ProfileStatus","aboutMe","Profile_ProfileInfo_Contacts","entries","filter","Post","post","smallPhoto","text","maxLength30","Textarea","AddPostForm","onSubmit","handleSubmit","Field","component","name","validate","cols","rows","placeholder","reduxForm","form","MyPosts","postsElements","posts","MyPosts_Post_Post","id","likesCount","MyPosts_AddPostForm","values","addPost","newPostBody","Profile","Profile_ProfileInfo_ProfileInfo","Profile_MyPosts_MyPosts","small","Preloader","ProfileContainer","userId","match","params","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","Components_Profile_Profile","compose","isFetching","usersPage","profilePage","toggleIsFetching","withRouter"],"mappings":"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","file":"static/js/4.d75f9e2e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1ZsEk\",\"error\":\"FormsControls_error__3UqkX\",\"formSummaryError\":\"FormsControls_formSummaryError__2RXnQ\"};","export const required = (value) => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required';\r\n};\r\n\r\nexport const maxLength = (maxLength) => (value) => {\r\n    if (value && value.length < maxLength) return undefined;\r\n\r\n    return `Max length is ${maxLength}`;\r\n};","import React from \"react\";\r\nimport styles from './FormsControls.module.css';\r\n\r\nexport const Element = (Element) => ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div>\r\n            <Element className={styles.formControl + ' ' + (hasError && styles.error)} {...input} {...props} />\r\n            <div>\r\n                {hasError && <span className={styles.error}>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    );\r\n};","module.exports = __webpack_public_path__ + \"static/media/no-photo.5f8f6d04.png\";","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({isAuth: state.auth.isAuth});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    const RedirectComponent = (props) => {\r\n        if (!props.isAuth) {\r\n            return <Redirect to='/login'/>\r\n        }\r\n        return <Component {...props} />\r\n    };\r\n\r\n    const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ProfileInfo_header__qg4hU\",\"profileInfo\":\"ProfileInfo_profileInfo__3ySjo\",\"profilePhoto\":\"ProfileInfo_profilePhoto__QLMmQ\",\"fullName\":\"ProfileInfo_fullName__P4oKr\",\"contacts\":\"ProfileInfo_contacts__1mFfQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__3Bxme\",\"profilePic\":\"MyPosts_profilePic__28c-r\",\"newPostBtn\":\"MyPosts_newPostBtn__2aWnS\",\"imgAndTextarea\":\"MyPosts_imgAndTextarea__3oZH9\",\"addPostForm\":\"MyPosts_addPostForm__2GdbJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postLogo\":\"Post_postLogo__3UC84\",\"postText\":\"Post_postText__3mVUG\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React, {useEffect, useState} from \"react\";\r\n\r\nconst ProfileStatus = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n    const onKeyPress = (e) => {\r\n        if (e.key === 'Enter') deactivateEditMode();\r\n    };\r\n\r\n    const updateStatus = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{status}</span>\r\n            </div>\r\n            }\r\n\r\n            {editMode &&\r\n            <div>\r\n                <input autoFocus={true} onBlur={deactivateEditMode} type='text'\r\n                       value={status} onChange={updateStatus} onKeyPress={onKeyPress}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileStatus;","import React from 'react';\r\nimport './Contacts.css';\r\n\r\nconst Contact = (props) => {\r\n    return (\r\n        <a target='_blank' rel='noopener noreferrer' href={props.link}><div  className={props.title}/></a>\r\n    );\r\n};\r\n\r\nexport default Contact;\r\n\r\n","import React from 'react';\r\nimport styles from './ProfileInfo.module.css';\r\nimport Contact from './Contact';\r\n\r\nclass Contacts extends React.Component {\r\n    render() {\r\n        let contactsImagesElements = this.props.contacts.map(el => <Contact key={el[0]} title={el[0]} link={el[1]}/>);\r\n\r\n        return (\r\n            <div className={styles.contacts}>\r\n                {contactsImagesElements}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Contacts;","import React from 'react';\r\nimport styles from './ProfileInfo.module.css';\r\nimport ProfileStatus from './ProfileStatus';\r\nimport userDefaultPhoto from './../../../assets/no-photo.png';\r\nimport Contacts from './Contacts';\r\n\r\nconst ProfileInfo = (props) => {\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.uploadPhoto(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.profileInfo}>\r\n                <div>\r\n                    <img className={styles.profilePhoto} alt=''\r\n                         src={props.profileData.photos.large ? props.profileData.photos.large : userDefaultPhoto}/>\r\n                    {props.isOwner && <input type='file' onChange={onMainPhotoSelected}/>}\r\n                </div>\r\n\r\n                <div>\r\n                    <h1 className={styles.fullName}>{props.profileData.fullName}</h1>\r\n                    {props.isOwner\r\n                        ? <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n                        : <span>{props.status}</span>}\r\n                    <p>{props.profileData.aboutMe}</p>\r\n                </div>\r\n            </div>\r\n\r\n            <Contacts contacts={Object.entries(props.profileData.contacts).filter(el => el[1] !== null)}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport styles from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={styles.post}>\r\n            <img className={styles.postLogo}\r\n                 src={props.smallPhoto} alt=\"\"/> Рома Дрюцкий\r\n            <div className={styles.postText}>\r\n                {props.text}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport styles from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {maxLength, required} from '../../../utils/validators';\r\nimport {Element} from '../../common/FormsControls/FormsControls';\r\n\r\nconst MyPosts = (props) => {\r\n    const postsElements = props.posts.map(post => <Post id={post.id} text={post.text} smallPhoto={props.smallPhoto}\r\n                                                        likesCount={post.likesCount}/>);\r\n\r\n    const addNewPost = (values) => {\r\n        props.addPost(values.newPostBody);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.myPosts}>\r\n            <p>My Posts:</p><br/>\r\n            <AddPostForm onSubmit={addNewPost} smallPhoto={props.smallPhoto}/>\r\n            {postsElements}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst maxLength30 = maxLength(30);\r\nconst Textarea = Element('textarea');\r\n\r\nlet AddPostForm = (props) => (\r\n    <form onSubmit={props.handleSubmit} className={styles.addPostForm}>\r\n        <div>\r\n            <div className={styles.imgAndTextarea}>\r\n                <img className={styles.profilePic}\r\n                     src={props.smallPhoto} alt=''/>\r\n                <Field component={Textarea} name='newPostBody' validate={[required, maxLength30]}\r\n                       cols='30' rows='3' placeholder='Enter your post...'/>\r\n            </div>\r\n            <div className={styles.newPostBtn}>\r\n                <button>New Post</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n);\r\nAddPostForm = reduxForm({form: 'profileAddPostForm'})(AddPostForm);\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPosts from './MyPosts/MyPosts';\r\nimport Preloader from '../common/Preloader';\r\n\r\nlet Profile = (props) => {\r\n    if (!props.profileData) {\r\n        return <Preloader/>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo {...props}/>\r\n            {props.isOwner &&\r\n            <MyPosts posts={props.posts} smallPhoto={props.profileData.photos.small} addPost={props.addPost}/>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from './Profile';\r\nimport {connect} from 'react-redux';\r\nimport {addPost, getStatus, getUserProfile, updateStatus, uploadPhoto} from '../../redux/profile-reducer';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {toggleIsFetching} from '../../redux/common-reducer';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.userId;\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} isOwner={!this.props.match.params.userId}/>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isFetching: state.usersPage.isFetching,\r\n    profileData: state.profilePage.profileData,\r\n    status: state.profilePage.status,\r\n    userId: state.auth.userId,\r\n    posts: state.profilePage.posts\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        toggleIsFetching, getUserProfile, getStatus,\r\n        updateStatus, uploadPhoto, addPost\r\n    }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}